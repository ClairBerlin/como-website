import{u as b,Q as O,al as y,C as j,c,r as k,o as a,f as r,b as t,t as m,i as I,d as e,g as l,aH as z,e as w,w as C,F as B}from"./vendor.bfb30425.js";import{_ as F}from"./OrganizationForm.8dbf147b.js";import"./TextInput.9e767deb.js";import"./camelCase.8cdf0679.js";import"./SubmitButton.46db78ca.js";const N={key:0,class:"bg-white shadow-md sm:rounded-sm"},S={class:"mx-auto max-w-screen-xl px-4 py-6 sm:px-6"},V={class:"text-3xl font-bold leading-tight text-gray-900"},$={class:"mt-8 max-w-sm sm:max-w-lg"},T={key:0,class:"mt-4 flex items-center rounded-sm border-l-4 border-red-400 bg-red-50 p-4 shadow-md"},E={class:"flex"},D={class:"flex-shrink-0"},H={class:"ml-3"},Q=w(" Find their contact information here. "),R={key:1,class:"rounded-sm bg-white p-6 shadow-md"},M={setup(q){const s=b(),u=O(),g=y(),{t:p}=j(),h=c(()=>s.state.nav.currentOrgId),n=c(()=>s.getters["jv/get"]({_jv:{type:"Organization",id:h.value}})),_=c(()=>s.getters["nav/isOwner"]),v=async({name:o,description:x})=>{let d={_jv:{type:"Organization",id:u.params.orgId},name:o,description:x};try{await s.dispatch("jv/patch",[d,{url:`organizations/${u.params.orgId}/`}]),g.success(p("org.updateSuccess"))}catch{g.error(p("org.updateError"))}};return(o,x)=>{var i,f;const d=k("router-link");return a(),r(B,null,[o.$route.meta.title?(a(),r("header",N,[t("div",S,[t("h1",V,m(o.$t("org.edit")),1)])])):I("",!0),t("div",$,[e(_)?(a(),r("div",R,[l(F,{"allow-edit":e(_),"org-name":(i=e(n))==null?void 0:i.name,"org-description":(f=e(n))==null?void 0:f.description,"button-text":"update","on-submit":v},null,8,["allow-edit","org-name","org-description"])])):(a(),r("div",T,[t("div",E,[t("div",D,[l(e(z),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),t("div",H,[w(" Only the Owner of an organization can change the name and/or description. Contact the Owner of "+m(e(n).name)+". "+m(" ")+" ",1),l(d,{to:{name:"org-management-detail",params:{orgId:e(h)}},class:"font-medium text-red-700 underline hover:text-red-600"},{default:C(()=>[Q]),_:1},8,["to"])])])]))])],64)}}};export{M as default};
